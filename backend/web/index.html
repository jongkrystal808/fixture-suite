<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/web/favicon.ico" type="image/x-icon">
  <title>æ²»å…·ç®¡ç†ç³»çµ±</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    button { border: 1px solid #D1D5DB; border-radius: 0.75rem; background:#fff; cursor:pointer; }
    .card { background:#fff; border:1px solid #E5E7EB; border-radius:1rem; box-shadow:0 1px 2px rgba(0,0,0,0.04); }
    .btn { display:inline-flex; align-items:center; gap:.5rem; padding:.5rem .75rem; font-size:.875rem; font-weight:500; line-height:1.25rem; }
    .btn-primary { background:#111827; color:#fff; border-color:#111827; }
    .btn-ghost { background:#fff; color:#111827; border-color:#D1D5DB; }
    .pill { display:inline-block; font-size:.75rem; padding:.125rem .5rem; border-radius:9999px; border:1px solid #D1D5DB; }
    .tab { display:inline-flex; align-items:center; gap:.5rem; padding:.5rem .75rem; font-size:.875rem; font-weight:500; line-height:1.25rem; background:#fff; border:1px solid #D1D5DB; border-radius:.75rem; transition:all .15s ease; }
    .tab:hover { background:#F9FAFB; }
    .tab-active { background:#111827; color:#fff; border-color:#111827; font-weight:700; box-shadow:0 0 0 2px rgba(17,24,39,0.25) inset; }
    .section-title { font-size:1rem; font-weight:600; letter-spacing:.02em; }
    .subtab { display:inline-flex; align-items:center; gap:.5rem; padding:.5rem .75rem; font-size:.875rem; font-weight:500; line-height:1.25rem; background:#fff; border:1px solid #D1D5DB; border-radius:.75rem; transition:all .15s ease; }
    .subtab-active { background:#111827; color:#fff; border-color:#111827; font-weight:700; }
    .field { display:flex; flex-direction:column; gap:.25rem; }
    .label-xs { font-size:.75rem; color:#6B7280; }
    .input { border:1px solid #D1D5DB; border-radius:.75rem; padding:.5rem .75rem; }
    .modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.35); display:none; align-items:center; justify-content:center; z-index:50; }
    .modal { background:#fff; border-radius:1rem; width:100%; max-width:24rem; padding:1.25rem; border:1px solid #E5E7EB; }
    .pagination button[disabled] { opacity:.5; cursor:not-allowed; }
    .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
    .warning-tag { background: #FEF3C7; color: #92400E; border: 1px solid #FCD34D; }
    .danger-tag { background: #FEE2E2; color: #991B1B; border: 1px solid #FCA5A5; }
  </style>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- ç™»å…¥ä»‹é¢ -->
  <div id="loginModal" class="modal-backdrop">
    <div class="modal space-y-4">
      <div class="flex items-center justify-between">
        <h3 class="font-semibold text-lg">ç™»å…¥</h3>
        <button class="btn btn-ghost text-xs" onclick="closeLogin()">é—œé–‰</button>
      </div>
      <div class="grid gap-3">
        <div class="field"><label class="label-xs">å¸³è™Ÿ</label><input id="loginId" class="input" placeholder="è¼¸å…¥å¸³è™Ÿ"/></div>
        <div class="field"><label class="label-xs">å¯†ç¢¼</label><input id="loginPwd" type="password" class="input" placeholder="è¼¸å…¥å¯†ç¢¼"/></div>
        <button class="btn btn-primary" onclick="mockLogin()">ç™»å…¥</button>
        <p id="loginMsg" class="text-xs text-gray-500"></p>
      </div>
    </div>
  </div>

  <!-- é ‚éƒ¨å°è¦½ -->
  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-gray-200">
    <div class="mx-auto max-w-7xl px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-8 w-8 rounded-xl bg-gray-900 text-white grid place-items-center font-bold">F</div>
        <div>
          <h1 class="text-lg font-semibold leading-tight">æ²»å…·ç®¡ç†ç³»çµ±</h1>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <span class="pill border-gray-300" id="clock">--:--</span>
        <span id="loginState" class="text-xs text-gray-600">æœªç™»å…¥</span>
        <button class="btn btn-ghost" id="btnLogin" onclick="openLogin()">ç™»å…¥</button>
      </div>
    </div>
  </header>

  <!-- ä¸»å®¹å™¨ -->
  <main class="mx-auto max-w-7xl p-4 md:p-6 space-y-6">
    <!-- åŠŸèƒ½åˆ†é  -->
    <nav class="grid grid-cols-2 md:grid-cols-7 gap-2">
      <button data-tab="dashboard" class="tab tab-active">å„€è¡¨æ¿</button>
      <button data-tab="receive"  class="tab">æ”¶æ–™ç™»è¨˜</button>
      <button data-tab="return"   class="tab">é€€æ–™ç™»è¨˜</button>
      <button data-tab="query"    class="tab">æ²»å…·/æ©Ÿç¨®æŸ¥è©¢</button>
      <button data-tab="stats"    class="tab">æ²»å…·æƒ…æ³çµ±è¨ˆ</button>
      <button data-tab="logs"     class="tab">ä½¿ç”¨/æ›´æ›è¨˜éŒ„</button>
      <button data-tab="admin"    class="tab">å¾Œå°ç®¡ç†</button>
    </nav>

    <!-- ç•¶å‰åˆ‡é æ¨™é¡Œæ¬„ -->
    <div id="activeTabBanner" class="card px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-8 w-1.5 rounded-full bg-gray-900"></div>
        <div class="section-title" id="activeTabTitle">å„€è¡¨æ¿</div>
      </div>
    </div>

    <!-- å„€è¡¨æ¿ -->
    <section id="tab-dashboard" class="space-y-6">
      <div class="grid md:grid-cols-3 gap-4">
        <div class="card p-5">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">ä»Šæ—¥æ”¶æ–™</h3>
            <span class="pill border-green-300 text-green-700 bg-green-50">å³æ™‚</span>
          </div>
          <p class="text-3xl font-bold mt-2" id="todayIn">0</p>
          <div class="mt-3 space-y-2" id="todayInList"></div>
        </div>
        <div class="card p-5">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">ä»Šæ—¥é€€æ–™</h3>
            <span class="pill border-blue-300 text-blue-700 bg-blue-50">å³æ™‚</span>
          </div>
          <p class="text-3xl font-bold mt-2" id="todayOut">0</p>
          <div class="mt-3 space-y-2" id="todayOutList"></div>
        </div>
        <div class="card p-5">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">å³å°‡æ›´æ›æ²»å…·</h3>
            <button class="btn btn-ghost text-xs" onclick="downloadCSV('upcoming.csv', mockUpcomingCSV())">åŒ¯å‡º</button>
          </div>
          <div class="mt-3 space-y-2 max-h-40 overflow-auto" id="upcomingList"></div>
        </div>
      </div>

      <div class="card p-5">
        <div class="flex items-center justify-between mb-3">
          <h3 class="font-semibold">åº«å­˜æ¦‚è¦½</h3>
          <div class="flex items-center gap-2">
            <input id="searchDash" class="w-48 border rounded-xl px-3 py-1.5 text-sm" placeholder="æœå°‹æ²»å…·/æ©Ÿç¨®..." />
            <button class="btn btn-ghost text-sm" onclick="filterDashboard()">ç¯©é¸</button>
          </div>
        </div>
        <div class="overflow-auto">
          <table class="min-w-full text-sm">
            <thead class="text-left text-gray-500">
              <tr>
                <th class="py-2 pr-4">æ²»å…·ç·¨è™Ÿ</th>
                <th class="py-2 pr-4">åç¨±</th>
                <th class="py-2 pr-4">æ©Ÿç¨®</th>
                <th class="py-2 pr-4">å„²ä½</th>
                <th class="py-2 pr-4">ç‹€æ…‹</th>
                <th class="py-2 pr-4">ä½¿ç”¨æ¬¡æ•¸/é€±æœŸ</th>
                <th class="py-2 pr-4">è² è²¬äºº</th>
              </tr>
            </thead>
            <tbody id="dashTable"></tbody>
          </table>
        </div>
      </div>
    </section>

       <!-- æ”¶æ–™ç™»è¨˜ -->
    <section id="tab-receive" class="hidden space-y-4">
      <div class="card p-5 space-y-4">
        <h3 class="font-semibold">æ”¶æ–™è¡¨å–®</h3>

        <!-- é¡å‹åˆ‡æ› -->
        <div class="grid md:grid-cols-4 gap-3">
          <div class="field">
            <label class="label-xs">æ”¶æ–™é¡å‹</label>
            <select id="rcvType" class="input" onchange="toggleReceiptType()">
              <option value="batch">æ‰¹é‡æ”¶æ–™ (ä½¿ç”¨æµæ°´è™Ÿèµ·è¨–)</option>
              <option value="individual">å°‘é‡æ”¶æ–™ (è¼¸å…¥åºè™Ÿåˆ—è¡¨)</option>
            </select>
          </div>
          <div class="field"><label class="label-xs">å» å•†</label><input id="rcvVendor" class="input" placeholder="ä¾‹å¦‚ï¼šå”åŠ›å» A" /></div>
          <div class="field"><label class="label-xs">å–®è™Ÿ</label><input id="rcvOrder" class="input" placeholder="ä¾‹å¦‚ï¼šPO20251101" /></div>
          <div class="field"><label class="label-xs">æ²»å…·ç·¨è™Ÿ</label><input id="rcvFixture" class="input" placeholder="ä¾‹å¦‚ï¼šJIG-001" /></div>
        </div>

        <!-- æ‰¹é‡æ¨¡å¼ -->
        <div id="batchFields" class="grid md:grid-cols-3 gap-3 mt-2">
          <div class="field"><label class="label-xs">æµæ°´è™Ÿèµ·å§‹</label><input id="rcvSerialStart" class="input" placeholder="ä¾‹å¦‚ï¼šHF31A25900010" /></div>
          <div class="field"><label class="label-xs">æµæ°´è™ŸçµæŸ</label><input id="rcvSerialEnd" class="input" placeholder="ä¾‹å¦‚ï¼šHF31A25900050" /></div>
          <div class="field"><label class="label-xs">å‚™è¨»</label><input id="rcvNote" class="input" placeholder="ä¾‹å¦‚ï¼šé¦–æ‰¹æ¸¬è©¦ä»¶" /></div>
        </div>

        <!-- å°‘é‡æ¨¡å¼ -->
        <div id="individualFields" class="hidden mt-2">
          <div class="field">
            <label class="label-xs">åºè™Ÿåˆ—è¡¨ (ä»¥é€—è™Ÿåˆ†éš”)</label>
            <textarea id="rcvSerials" class="input" rows="2" placeholder="ä¾‹å¦‚ï¼šHF31A25900010, HF31A25900011, HF31A25900012"></textarea>
          </div>
          <div class="field"><label class="label-xs">å‚™è¨»</label><input id="rcvNoteInd" class="input" placeholder="ä¾‹å¦‚ï¼šæŠ½æ¨£ä»¶" /></div>
        </div>

        <div class="flex items-end justify-end mt-2">
          <button class="btn btn-primary w-40" onclick="addReceipt()">ç¢ºèªæ”¶æ–™</button>
        </div>

        <!-- åŒ¯å…¥/ç¯„æœ¬/æœå°‹å€ -->
        <div class="flex items-center gap-2 pt-2">
          <label class="btn btn-ghost cursor-pointer">
            <input id="rcvCsv" type="file" accept=".xlsx,.csv" class="hidden" onchange="handleReceiptCsv(this)" /> åŒ¯å…¥ Excel/CSV
          </label>
          <button class="btn btn-ghost" onclick="downloadCSV('receipts_template.csv', sampleTemplateCSV('receipt'))">ä¸‹è¼‰ç¯„æœ¬</button>
          <div class="ml-auto flex items-center gap-2">
            <input id="rcvSearch" class="w-56 input text-sm" placeholder="æœå°‹(æ²»å…·/å–®è™Ÿ)" oninput="renderReceipts()" />
            <span class="text-xs text-gray-500">å…± <span id="rcvCount">0</span> ç­†</span>
          </div>
        </div>

        <!-- è¡¨æ ¼å±•ç¤º -->
        <div class="overflow-auto">
          <table class="min-w-full text-sm">
            <thead class="text-left text-gray-500">
              <tr>
                <th class="py-2 pr-4">æ—¥æœŸæ™‚é–“</th>
                <th class="py-2 pr-4">é¡å‹</th>
                <th class="py-2 pr-4">å» å•†</th>
                <th class="py-2 pr-4">å–®è™Ÿ</th>
                <th class="py-2 pr-4">æ²»å…·</th>
                <th class="py-2 pr-4">æµæ°´è™Ÿèµ·è¨– / åºè™Ÿåˆ—è¡¨</th>
                <th class="py-2 pr-4">æ”¶æ–™äººå“¡</th>
                <th class="py-2 pr-4">å‚™è¨»</th>
                <th class="py-2 pr-4">æ“ä½œ</th>
              </tr>
            </thead>
            <tbody id="rcvTable"></tbody>
          </table>
        </div>
      </div>
    </section>


        <!-- é€€æ–™ç™»è¨˜ -->
    <section id="tab-return" class="hidden space-y-4">
      <div class="card p-5 space-y-4">
        <h3 class="font-semibold">é€€æ–™è¡¨å–®</h3>

        <!-- é¡å‹åˆ‡æ› -->
        <div class="grid md:grid-cols-4 gap-3">
          <div class="field">
            <label class="label-xs">é€€æ–™é¡å‹</label>
            <select id="retType" class="input" onchange="toggleReturnType()">
              <option value="batch">æ‰¹é‡é€€æ–™ (ä½¿ç”¨æµæ°´è™Ÿèµ·è¨–)</option>
              <option value="individual">å°‘é‡é€€æ–™ (è¼¸å…¥åºè™Ÿåˆ—è¡¨)</option>
            </select>
          </div>
          <div class="field"><label class="label-xs">å» å•†</label><input id="retVendor" class="input" placeholder="ä¾‹å¦‚ï¼šå”åŠ›å» A" /></div>
          <div class="field"><label class="label-xs">å–®è™Ÿ</label><input id="retOrder" class="input" placeholder="ä¾‹å¦‚ï¼šPO20251101" /></div>
          <div class="field"><label class="label-xs">æ²»å…·ç·¨è™Ÿ</label><input id="retFixture" class="input" placeholder="ä¾‹å¦‚ï¼šJIG-001" /></div>
        </div>

        <!-- æ‰¹é‡æ¨¡å¼ -->
        <div id="retBatchFields" class="grid md:grid-cols-3 gap-3 mt-2">
          <div class="field"><label class="label-xs">æµæ°´è™Ÿèµ·å§‹</label><input id="retSerialStart" class="input" placeholder="ä¾‹å¦‚ï¼šHF31A25900010" /></div>
          <div class="field"><label class="label-xs">æµæ°´è™ŸçµæŸ</label><input id="retSerialEnd" class="input" placeholder="ä¾‹å¦‚ï¼šHF31A25900050" /></div>
          <div class="field"><label class="label-xs">å‚™è¨»</label><input id="retNote" class="input" placeholder="ä¾‹å¦‚ï¼šæ‰¹é‡é€€æ–™" /></div>
        </div>

        <!-- å°‘é‡æ¨¡å¼ -->
        <div id="retIndividualFields" class="hidden mt-2">
          <div class="field">
            <label class="label-xs">åºè™Ÿåˆ—è¡¨ (ä»¥é€—è™Ÿåˆ†éš”)</label>
            <textarea id="retSerials" class="input" rows="2" placeholder="ä¾‹å¦‚ï¼šHF31A25900010, HF31A25900011, HF31A25900012"></textarea>
          </div>
          <div class="field"><label class="label-xs">å‚™è¨»</label><input id="retNoteInd" class="input" placeholder="ä¾‹å¦‚ï¼šæŠ½æ¨£ä»¶é€€å›" /></div>
        </div>

        <div class="flex items-end justify-end mt-2">
          <button class="btn btn-primary w-40" onclick="addReturn()">ç¢ºèªé€€æ–™</button>
        </div>

        <!-- åŒ¯å…¥/ç¯„æœ¬/æœå°‹å€ -->
        <div class="flex items-center gap-2 pt-2">
          <label class="btn btn-ghost cursor-pointer">
            <input id="retCsv" type="file" accept=".xlsx,.csv" class="hidden" onchange="handleReturnCsv(this)" /> åŒ¯å…¥ Excel/CSV
          </label>
          <button class="btn btn-ghost" onclick="downloadCSV('returns_template.csv', sampleTemplateCSV('return'))">ä¸‹è¼‰ç¯„æœ¬</button>
          <div class="ml-auto flex items-center gap-2">
            <input id="retSearch" class="w-56 input text-sm" placeholder="æœå°‹(æ²»å…·/å–®è™Ÿ)" oninput="renderReturns()" />
            <span class="text-xs text-gray-500">å…± <span id="retCount">0</span> ç­†</span>
          </div>
        </div>

        <!-- è¡¨æ ¼å±•ç¤º -->
        <div class="overflow-auto">
          <table class="min-w-full text-sm">
            <thead class="text-left text-gray-500">
              <tr>
                <th class="py-2 pr-4">æ—¥æœŸæ™‚é–“</th>
                <th class="py-2 pr-4">é¡å‹</th>
                <th class="py-2 pr-4">å» å•†</th>
                <th class="py-2 pr-4">å–®è™Ÿ</th>
                <th class="py-2 pr-4">æ²»å…·</th>
                <th class="py-2 pr-4">æµæ°´è™Ÿèµ·è¨– / åºè™Ÿåˆ—è¡¨</th>
                <th class="py-2 pr-4">é€€æ–™äººå“¡</th>
                <th class="py-2 pr-4">å‚™è¨»</th>
                <th class="py-2 pr-4">æ“ä½œ</th>
              </tr>
            </thead>
            <tbody id="retTable"></tbody>
          </table>
        </div>
      </div>
    </section>
        <!-- æŸ¥è©¢æ¨¡å¡Š -->
    <section id="tab-query" class="hidden space-y-4">
      <div class="card p-5 space-y-4">
        <h3 class="font-semibold text-lg">æ²»å…·ï¼æ©Ÿç¨®æŸ¥è©¢</h3>

        <!-- åˆ‡æ›æŸ¥è©¢é¡å‹ -->
        <div class="flex gap-4 items-center">
          <label class="font-semibold">æŸ¥è©¢é¡å‹ï¼š</label>
          <select id="queryType" class="input w-60" onchange="switchQueryType()">
            <option value="fixture">æ²»å…·æŸ¥è©¢</option>
            <option value="model">æ©Ÿç¨®æŸ¥è©¢</option>
          </select>
        </div>

        <!-- ============================= -->
        <!-- ğŸ”¹ æ²»å…·æŸ¥è©¢å€ -->
        <!-- ============================= -->
        <div id="fixtureQueryArea" class="space-y-3">
          <div class="flex gap-3">
            <input id="fixtureSearch" class="input w-64" placeholder="è¼¸å…¥æ²»å…·ç·¨è™Ÿæˆ–åç¨±" oninput="loadFixturesQuery()" />
            <select id="fixtureStatus" class="input w-40" onchange="loadFixturesQuery()">
              <option value="">å…¨éƒ¨ç‹€æ…‹</option>
              <option value="æ­£å¸¸">æ­£å¸¸</option>
              <option value="è¿”é‚„">è¿”é‚„</option>
              <option value="å ±å»¢">å ±å»¢</option>
            </select>
            <button class="btn btn-primary" onclick="loadFixturesQuery()">æŸ¥è©¢</button>
          </div>

          <div class="overflow-x-auto border rounded-lg shadow-sm">
            <table class="min-w-full text-sm text-center border-collapse">
              <thead class="text-gray-700 bg-gray-50 border-b">
                <tr>
                  <th class="py-2 px-4 w-24">æ²»å…·ç·¨è™Ÿ</th>
                  <th class="py-2 px-4 w-32">åç¨±</th>
                  <th class="py-2 px-4 w-32">é¡å‹</th>
                  <th class="py-2 px-4 w-44">åº«å­˜(è‡ªè³¼/å®¢ä¾›/ç¸½)</th>
                  <th class="py-2 px-4 w-24">ç‹€æ…‹</th>
                  <th class="py-2 px-4 w-24">å„²ä½</th>
                  <th class="py-2 px-4 w-32">è² è²¬äºº</th>
                  <th class="py-2 px-4 w-48">å‚™è¨»</th>
                </tr>
              </thead>
              <tbody id="fixtureTable" class="divide-y divide-gray-100 text-gray-800"></tbody>
            </table>
          </div>
        </div>

        <!-- ============================= -->
        <!-- ğŸ”¹ æ©Ÿç¨®æŸ¥è©¢å€ -->
        <!-- ============================= -->
        <div id="modelQueryArea" class="hidden space-y-3">
          <div class="flex gap-3">
            <input id="modelSearch" class="input w-64" placeholder="è¼¸å…¥æ©Ÿç¨®ä»£ç¢¼æˆ–åç¨±" oninput="loadModelsQuery()" />
            <button class="btn btn-primary" onclick="loadModelsQuery()">æŸ¥è©¢</button>
          </div>

          <div class="overflow-x-auto border rounded-lg shadow-sm">
            <table class="min-w-full text-sm text-center border-collapse">
              <thead class="text-gray-700 bg-gray-50 border-b">
                <tr>
                  <th class="py-2 px-4 w-32">æ©Ÿç¨®ä»£ç¢¼</th>
                  <th class="py-2 px-4 w-40">åç¨±</th>
                  <th class="py-2 px-4 w-64">å‚™è¨»</th>
                  <th class="py-2 px-4 w-24">æ“ä½œ</th>
                </tr>
              </thead>
              <tbody id="modelTable" class="divide-y divide-gray-100 text-gray-800"></tbody>
            </table>
          </div>

          <!-- ============================= -->
          <!-- ğŸ”¹ é¡¯ç¤ºæœ€å¤§é–‹ç«™æ•¸ -->
          <!-- ============================= -->
          <div id="maxStationArea" class="hidden mt-5">
            <h4 class="font-semibold mb-2">æœ€å¤§é–‹ç«™æ•¸</h4>
            <div class="overflow-x-auto border rounded-lg shadow-sm">
              <table class="min-w-full text-sm text-center border-collapse">
                <thead class="text-gray-700 bg-gray-50 border-b">
                  <tr>
                    <th class="py-2 px-4 w-32">ç«™é»ä»£ç¢¼</th>
                    <th class="py-2 px-4 w-40">ç«™é»åç¨±</th>
                    <th class="py-2 px-4 w-32">æœ€å¤§é–‹ç«™æ•¸</th>
                    <th class="py-2 px-4 w-40">ç“¶é ¸æ²»å…·</th>
                    <th class="py-2 px-4 w-40">å¯ç”¨/éœ€æ±‚æ•¸</th>
                  </tr>
                </thead>
                <tbody id="maxStationTable" class="divide-y divide-gray-100 text-gray-800"></tbody>
              </table>
            </div>
          </div>

          <!-- ============================= -->
          <!-- ğŸ”¹ é¡¯ç¤ºæ²»å…·éœ€æ±‚æ˜ç´° -->
          <!-- ============================= -->
          <div id="stationDetailArea" class="hidden mt-5">
            <h4 class="font-semibold mb-2">
              æ²»å…·éœ€æ±‚æ˜ç´°ï¼š<span id="stationDetailTitle" class="text-indigo-600"></span>
            </h4>
            <div class="overflow-x-auto border rounded-lg shadow-sm">
              <table class="min-w-full text-sm text-center border-collapse">
                <thead class="text-gray-700 bg-gray-50 border-b">
                  <tr>
                    <th class="py-2 px-4 w-32">æ²»å…·ç·¨è™Ÿ</th>
                    <th class="py-2 px-4 w-48">æ²»å…·åç¨±</th>
                    <th class="py-2 px-4 w-24">éœ€æ±‚æ•¸é‡</th>
                    <th class="py-2 px-4 w-24">å¯ç”¨æ•¸é‡</th>
                    <th class="py-2 px-4 w-32">å¯æ”¯æ´ç«™æ•¸</th>
                  </tr>
                </thead>
                <tbody id="stationDetailTable" class="divide-y divide-gray-100 text-gray-800"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>



    <!-- æ²»å…·æƒ…æ³çµ±è¨ˆ(æ–°å¢åˆ†é ) -->
    <section id="tab-stats" class="hidden space-y-4">
      <!-- çµ±è¨ˆå¡ç‰‡ -->
      <div class="grid md:grid-cols-4 gap-4">
        <div class="card p-5 stat-card">
          <div class="text-sm opacity-90">ç¸½æ²»å…·æ•¸é‡</div>
          <div class="text-3xl font-bold mt-2" id="statTotalFixtures">0</div>
        </div>
        <div class="card p-5 bg-gradient-to-br from-green-400 to-emerald-600 text-white">
          <div class="text-sm opacity-90">æ­£å¸¸ä½¿ç”¨ä¸­</div>
          <div class="text-3xl font-bold mt-2" id="statActiveFixtures">0</div>
        </div>
        <div class="card p-5 bg-gradient-to-br from-amber-400 to-orange-600 text-white">
          <div class="text-sm opacity-90">å£½å‘½æœªé”æ¨™</div>
          <div class="text-3xl font-bold mt-2" id="statUnderLifespan">0</div>
        </div>
        <div class="card p-5 bg-gradient-to-br from-red-400 to-rose-600 text-white">
          <div class="text-sm opacity-90">å³å°‡æ›´æ›</div>
          <div class="text-3xl font-bold mt-2" id="statNeedReplacement">0</div>
        </div>
      </div>

      <!-- æ²»å…·å£½å‘½ç®¡ç†ä½œæ³• -->
      <div class="card p-5 space-y-4">
        <h3 class="font-semibold text-lg">æ²»å…·å£½å‘½ç®¡ç†ä½œæ³•(é‡å°ä¸è€ç”¨æ²»å…·)</h3>

        <div class="grid md:grid-cols-2 gap-4">
          <!-- 1. å»ºç«‹å£½å‘½æ¯”å°æ©Ÿåˆ¶ -->
          <div class="border rounded-xl p-4 space-y-3">
            <div class="flex items-center gap-2">
              <div class="h-8 w-8 rounded-lg bg-blue-100 text-blue-700 grid place-items-center font-bold">1</div>
              <h4 class="font-semibold">å»ºç«‹å£½å‘½æ¯”å°æ©Ÿåˆ¶</h4>
            </div>
            <ul class="text-sm text-gray-600 space-y-2 ml-10">
              <li>â€¢ æ¯å€‹æ²»å…·è¨­å®šé æœŸå£½å‘½(æ¬¡æ•¸æˆ–å¤©æ•¸)</li>
              <li>â€¢ ç³»çµ±è¨˜éŒ„å¯¦éš›ä½¿ç”¨æ¬¡æ•¸</li>
              <li>â€¢ æœªé”æ¨™è‡ªå‹•æ¨™ç¤ºã€Œå£½å‘½æœªé”é è¨­å€¼ã€</li>
            </ul>
          </div>

          <!-- 2. è‡ªå‹•åˆ†é¡èˆ‡æ¨™ç¤º -->
          <div class="border rounded-xl p-4 space-y-3">
            <div class="flex items-center gap-2">
              <div class="h-8 w-8 rounded-lg bg-green-100 text-green-700 grid place-items-center font-bold">2</div>
              <h4 class="font-semibold">è‡ªå‹•åˆ†é¡èˆ‡æ¨™ç¤º</h4>
            </div>
            <ul class="text-sm text-gray-600 space-y-2 ml-10">
              <li>â€¢ ç³»çµ±è‡ªå‹•æ­¸é¡ã€Œä¸è€ç”¨æ²»å…·ã€æ¸…å–®</li>
              <li>â€¢ é¡¯ç¤ºç´…è‰²è­¦ç¤º</li>
              <li>â€¢ å„€è¡¨æ¿å¯çµ±è¨ˆæ¯”ä¾‹</li>
            </ul>
          </div>

          <!-- 3. åŸå› åˆ†æèˆ‡å›å ± -->
          <div class="border rounded-xl p-4 space-y-3">
            <div class="flex items-center gap-2">
              <div class="h-8 w-8 rounded-lg bg-amber-100 text-amber-700 grid place-items-center font-bold">3</div>
              <h4 class="font-semibold">åŸå› åˆ†æèˆ‡å›å ±</h4>
            </div>
            <ul class="text-sm text-gray-600 space-y-2 ml-10">
              <li>â€¢ å ±å»¢æ™‚å¡«å¯«æå£åŸå› ã€ä½¿ç”¨ç’°å¢ƒ</li>
              <li>â€¢ å¯ä¸Šå‚³ç…§ç‰‡</li>
              <li>â€¢ ä¾›å·¥ç¨‹éƒ¨åˆ†æè¨­è¨ˆå•é¡Œ</li>
            </ul>
          </div>

          <!-- 4. ç³»çµ±æé†’èˆ‡å­¸ç¿’å›é¥‹ -->
          <div class="border rounded-xl p-4 space-y-3">
            <div class="flex items-center gap-2">
              <div class="h-8 w-8 rounded-lg bg-purple-100 text-purple-700 grid place-items-center font-bold">4</div>
              <h4 class="font-semibold">ç³»çµ±æé†’èˆ‡å­¸ç¿’å›é¥‹</h4>
            </div>
            <ul class="text-sm text-gray-600 space-y-2 ml-10">
              <li>â€¢ è‹¥åŒå‹è™Ÿå¤šæ¬¡å£½å‘½ä¸è¶³</li>
              <li>â€¢ è‡ªå‹•æé†’æª¢è¨</li>
              <li>â€¢ æŒçºŒå„ªåŒ–æ²»å…·è¨­è¨ˆ</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- ä¸è€ç”¨æ²»å…·æ¸…å–® -->
      <div class="card p-5 space-y-4">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">ä¸è€ç”¨æ²»å…·æ¸…å–®(å£½å‘½æœªé”é è¨­å€¼)</h3>
          <button class="btn btn-ghost text-sm" onclick="downloadCSV('undurable_fixtures.csv', toCSV(getUndurableFixtures()))">åŒ¯å‡ºæ¸…å–®</button>
        </div>
        <div class="overflow-auto">
          <table class="min-w-full text-sm">
            <thead class="text-left text-gray-500">
              <tr>
                <th class="py-2 pr-4">æ²»å…·ç·¨è™Ÿ</th>
                <th class="py-2 pr-4">åç¨±</th>
                <th class="py-2 pr-4">é æœŸå£½å‘½</th>
                <th class="py-2 pr-4">å¯¦éš›ä½¿ç”¨</th>
                <th class="py-2 pr-4">é”æˆç‡</th>
                <th class="py-2 pr-4">è­¦ç¤ºç­‰ç´š</th>
                <th class="py-2 pr-4">è² è²¬äºº</th>
                <th class="py-2 pr-4">æ“ä½œ</th>
              </tr>
            </thead>
            <tbody id="undurableTable"></tbody>
          </table>
        </div>
      </div>

      <!-- å ±å»¢åŸå› ç™»è¨˜è¡¨å–® -->
      <div class="card p-5 space-y-4">
        <h3 class="font-semibold">å ±å»¢åŸå› ç™»è¨˜</h3>
        <div class="grid md:grid-cols-6 gap-3">
          <div class="field"><label class="label-xs">æ²»å…·ç·¨è™Ÿ</label><select id="scrapFixture" class="input"></select></div>
          <div class="field"><label class="label-xs">å ±å»¢æ—¥æœŸ</label><input id="scrapDate" type="date" class="input" /></div>
          <div class="field"><label class="label-xs">æå£åŸå› </label>
            <select id="scrapReason" class="input">
              <option>æ­£å¸¸ç£¨æ</option>
              <option>æè³ªå•é¡Œ</option>
              <option>è¨­è¨ˆç¼ºé™·</option>
              <option>æ“ä½œä¸ç•¶</option>
              <option>æ„å¤–æå£</option>
              <option>å…¶ä»–</option>
            </select>
          </div>
          <div class="field"><label class="label-xs">ä½¿ç”¨ç’°å¢ƒ</label><input id="scrapEnv" class="input" placeholder="å¦‚:é«˜æº«/æ½®æ¿•" /></div>
          <div class="field"><label class="label-xs">ç…§ç‰‡ä¸Šå‚³</label><input id="scrapPhoto" type="file" accept="image/*" class="input text-xs" /></div>
          <div class="flex items-end"><button class="btn btn-primary w-full" onclick="toast('å·²è¨˜éŒ„å ±å»¢åŸå› (æ¨¡æ“¬)')">æäº¤</button></div>
        </div>
        <div class="field">
          <label class="label-xs">è©³ç´°èªªæ˜</label>
          <textarea id="scrapNote" class="input" rows="2" placeholder="è«‹è©³ç´°æè¿°æå£æƒ…æ³..."></textarea>
        </div>
      </div>
    </section>

    <!-- ä½¿ç”¨/æ›´æ›è¨˜éŒ„ -->
    <section id="tab-logs" class="hidden space-y-4">
      <div class="card p-5 space-y-4">
        <div class="grid md:grid-cols-5 gap-3">
          <div class="field"><label class="label-xs">æ²»å…·</label><select id="logFixture" class="input"></select></div>
          <div class="field"><label class="label-xs">å€é–“(èµ·)</label><input id="logFrom" type="date" class="input" /></div>
          <div class="field"><label class="label-xs">å€é–“(è¿„)</label><input id="logTo" type="date" class="input" /></div>
          <div class="field"><label class="label-xs">é¡å‹</label><select id="logType" class="input"><option value="use">ä½¿ç”¨</option><option value="replace">æ›´æ›</option></select></div>
          <div class="flex items-end gap-2"><button class="btn btn-primary w-full" onclick="toast('å·²å¥—ç”¨ç¯©é¸(æ¨¡æ“¬)')">å¥—ç”¨</button></div>
        </div>

        <div class="flex flex-wrap items-center gap-2">
          <button class="btn btn-primary" onclick="toggleAddLog(true)">æ–°å¢è¨˜éŒ„</button>
          <label class="btn btn-ghost cursor-pointer"><input id="logCsv" type="file" accept=".csv" class="hidden" onchange="handleLogCsv(this)" /> åŒ¯å…¥ CSV</label>
          <button class="btn btn-ghost" onclick="downloadCSV('usage_replace_template.csv', sampleLogTemplate())">ä¸‹è¼‰ç¯„æœ¬</button>
          <span class="text-xs text-gray-500">(æ¬„ä½:date,fixture,loc,qty,type,note)</span>
        </div>

        <div id="addLogForm" class="hidden border rounded-2xl p-4 bg-gray-50">
          <div class="grid md:grid-cols-6 gap-3">
            <div class="field"><label class="label-xs">æ—¥æœŸ</label><input id="addLogDate" type="date" class="input" /></div>
            <div class="field"><label class="label-xs">æ²»å…·</label><select id="addLogFixture" class="input"></select></div>
            <div class="field"><label class="label-xs">ä½ç½®</label><input id="addLogLoc" class="input" placeholder="å¦‚:SMT1" /></div>
            <div class="field"><label class="label-xs">æ•¸é‡</label><input id="addLogQty" type="number" class="input" placeholder="1" /></div>
            <div class="field"><label class="label-xs">é¡å‹</label><select id="addLogType" class="input"><option value="use">ä½¿ç”¨</option><option value="replace">æ›´æ›</option></select></div>
            <div class="field"><label class="label-xs">å‚™è¨»</label><input id="addLogNote" class="input" /></div>
          </div>
          <div class="flex justify-end gap-2 pt-3">
            <button class="btn btn-ghost" onclick="toggleAddLog(false)">å–æ¶ˆ</button>
            <button class="btn btn-primary" onclick="addLog()">æ–°å¢</button>
          </div>
        </div>

        <div class="overflow-auto">
          <table class="min-w-full text-sm">
            <thead class="text-left text-gray-500">
              <tr><th class="py-2 pr-4">æ—¥æœŸ</th><th class="py-2 pr-4">æ²»å…·</th><th class="py-2 pr-4">ä½ç½®</th><th class="py-2 pr-4">æ•¸é‡</th><th class="py-2 pr-4">é¡å‹</th><th class="py-2 pr-4">å‚™è¨»/ç•°å¸¸</th></tr>
            </thead>
            <tbody id="logTable"></tbody>
          </table>
        </div>
        <div class="flex justify-end gap-2">
          <button class="btn btn-ghost" onclick="downloadCSV('usage_replace_logs.csv', toCSV(mockLogs))">åŒ¯å‡º</button>
        </div>
      </div>
    </section>

    <!-- å¾Œå°ç®¡ç†(æ–°å¢:å­é å±¤) -->
    <section id="tab-admin" class="hidden space-y-4">
      <!-- å­é å±¤ -->
      <div class="flex flex-wrap gap-2">
        <button class="tab subtab-active" data-subtab="acct">å¸³è™Ÿèˆ‡æ¬Šé™</button>
        <button class="tab" data-subtab="smtp">SMTP è¨­å®š</button>
        <button class="tab" data-subtab="fixture">æ²»å…·è³‡æ–™ç¶­è­·</button>
        <button class="tab" data-subtab="model">æ©Ÿç¨®è³‡æ–™ç¶­è­·</button>
      </div>

      <!-- å¸³è™Ÿèˆ‡æ¬Šé™ -->
      <div id="subtab-acct" class="card p-5 space-y-4">
        <h3 class="font-semibold">å¸³è™Ÿèˆ‡æ¬Šé™</h3>
        <div class="grid md:grid-cols-3 gap-4">
          <!-- æ–°å¢å¸³æˆ¶ -->
          <div class="border rounded-2xl p-4 space-y-3">
            <div class="font-semibold text-sm">æ–°å¢å¸³æˆ¶</div>
            <div class="grid gap-3">
              <div class="field"><label class="label-xs">å¸³è™Ÿ (id)</label><input id="accAddId" class="input"/></div>
              <div class="field"><label class="label-xs">å¯†ç¢¼</label><input id="accAddPwd" type="password" class="input"/></div>
              <div class="field"><label class="label-xs">Email</label><input id="accAddMail" type="email" class="input"/></div>
              <div class="field"><label class="label-xs">æ¬Šé™</label>
                <select id="accAddRole" class="input">
                  <option value="user">ä¸€èˆ¬ç”¨æˆ¶(æŸ¥è©¢/å¢åŠ )</option>
                  <option value="admin">ç®¡ç†å“¡(æŸ¥è©¢/å¢ä¿®åˆª)</option>
                </select>
              </div>
              <button class="btn btn-primary" onclick="toast('å·²æ–°å¢å¸³æˆ¶(æ¨¡æ“¬)')">æ–°å¢</button>
            </div>
          </div>

          <!-- åˆªé™¤å¸³æˆ¶ -->
          <div class="border rounded-2xl p-4 space-y-3">
            <div class="font-semibold text-sm">åˆªé™¤å¸³æˆ¶</div>
            <div class="grid gap-3">
              <div class="field"><label class="label-xs">å¸³è™Ÿ (id)</label><input id="accDelId" class="input"/></div>
              <div class="field"><label class="label-xs">å¯†ç¢¼</label><input id="accDelPwd" type="password" class="input"/></div>
              <button class="btn btn-ghost" onclick="toast('å·²åˆªé™¤å¸³æˆ¶(æ¨¡æ“¬)')">åˆªé™¤</button>
            </div>
          </div>

          <!-- ä¿®æ”¹å¯†ç¢¼ -->
          <div class="border rounded-2xl p-4 space-y-3">
            <div class="font-semibold text-sm">ä¿®æ”¹å¯†ç¢¼</div>
            <div class="grid gap-3">
              <div class="field"><label class="label-xs">å¸³è™Ÿ (id)</label><input id="accModId" class="input"/></div>
              <div class="field"><label class="label-xs">ç¾è¡Œå¯†ç¢¼</label><input id="accModPwd" type="password" class="input"/></div>
              <div class="field"><label class="label-xs">æ–°å¯†ç¢¼</label><input id="accModNew" type="password" class="input"/></div>
              <div class="field"><label class="label-xs">Email</label><input id="accModMail" type="email" class="input"/></div>
              <button class="btn btn-ghost" onclick="toast('å·²ä¿®æ”¹å¯†ç¢¼(æ¨¡æ“¬)')">ä¿®æ”¹</button>
            </div>
          </div>
        </div>
      </div>

      <!-- SMTP è¨­å®š(å«æ›´æ›é€šçŸ¥å°è±¡) -->
      <div id="subtab-smtp" class="card p-5 space-y-4 hidden">
        <h3 class="font-semibold">SMTP è¨­å®š</h3>
        <div class="grid md:grid-cols-3 gap-3">
          <div class="field"><label class="label-xs">Email</label><input id="smtpEmail" class="input" placeholder="é€šçŸ¥å¯„é€ Email"/></div>
          <div class="field"><label class="label-xs">å¤–é€éƒµä»¶ä¼ºæœå™¨åç¨± (SMTP)</label><input id="smtpHost" class="input" placeholder="smtp.example.com"/></div>
          <div class="field"><label class="label-xs">åŸ è™Ÿ (Port)</label><input id="smtpPort" class="input" placeholder="587"/></div>
          <div class="field"><label class="label-xs">èªè­‰ç‹€æ…‹</label>
            <select id="smtpAuthState" class="input">
              <option>æœªèªè­‰</option><option>å·²èªè­‰</option>
            </select>
          </div>
          <div class="field"><label class="label-xs">èªè­‰å¸³è™Ÿ</label><input id="smtpUser" class="input" /></div>
          <div class="field"><label class="label-xs">èªè­‰å¯†ç¢¼</label><input id="smtpPass" type="password" class="input" /></div>
          <div class="field"><label class="label-xs">å¯„ä»¶è€…åç¨±</label><input id="smtpSenderName" class="input" /></div>
          <div class="field"><label class="label-xs">å¯„ä»¶è€…ä¿¡ç®±</label><input id="smtpSenderMail" type="email" class="input" /></div>
        </div>
        <div class="flex gap-2">
          <button class="btn btn-primary" onclick="toast('å·²å„²å­˜ SMTP(æ¨¡æ“¬)')">å„²å­˜</button>
          <button class="btn btn-ghost" onclick="toast('æ¸¬è©¦å¯„ä¿¡(æ¨¡æ“¬)')">æ¸¬è©¦å¯„ä¿¡</button>
        </div>

        <div class="pt-2 border-t">
          <div class="flex items-center justify-between py-3">
            <h4 class="font-semibold">æ›´æ›é€šçŸ¥å°è±¡</h4>
            <button class="btn btn-ghost" onclick="downloadCSV('owners.csv', toCSV(mockOwners))">åŒ¯å‡ºè² è²¬äºº</button>
          </div>
          <div class="overflow-auto">
            <table class="min-w-full text-sm">
              <thead class="text-left text-gray-500">
                <tr><th class="py-2 pr-4">å“¡ç·¨</th><th class="py-2 pr-4">å§“å</th><th class="py-2 pr-4">Email</th><th class="py-2 pr-4">æ“ä½œ</th></tr>
              </thead>
              <tbody id="ownerTable"></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- æ²»å…·è³‡æ–™ç¶­è­· -->
      <div id="subtab-fixture" class="card p-5 space-y-3 hidden">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">æ²»å…·è³‡æ–™ç¶­è­·</h3>
          <div class="flex items-center gap-2">
            <button class="btn btn-ghost" onclick="downloadCSV('fixtures_export.csv', toCSV(mockFixtures))">åŒ¯å‡º</button>
            <button class="btn btn-ghost" onclick="downloadCSV('fixtures_template.csv', fixtureTemplate())">ä¸‹è¼‰ç¯„æœ¬</button>
          </div>
        </div>
        <div class="grid md:grid-cols-5 gap-3">
          <div class="field"><label class="label-xs">æ²»å…·åç¨±</label><input id="fxName" class="input" placeholder="åç¨±" /></div>
          <div class="field"><label class="label-xs">å°æ‡‰ä½¿ç”¨æ©Ÿç¨®</label><input id="fxModel" class="input" placeholder="æ©Ÿç¨®" /></div>
          <div class="field"><label class="label-xs">å„²ä½</label><input id="fxLoc" class="input" placeholder="å„²ä½" /></div>
          <div class="field"><label class="label-xs">ç‹€æ…‹</label><input id="fxStatus" class="input" placeholder="active/inactive" /></div>
          <div class="field"><label class="label-xs">æ›´æ›é€±æœŸ</label><input id="fxCycle" type="number" class="input" placeholder="æ¬¡æ•¸" /></div>
        </div>
        <div class="flex items-center gap-2">
          <button class="btn btn-primary" onclick="addFixture()">æ–°å¢</button>
          <label class="btn btn-ghost cursor-pointer"><input id="fxCsv" type="file" accept=".xlsx,.csv" class="hidden" onchange="handleFixtureCsv(this)" /> åŒ¯å…¥ Excel/CSV</label>
        </div>
        <div class="border-t pt-3">
          <div class="flex items-center justify-between">
            <div class="text-sm text-gray-600">å…± <span id="fxCount">0</span> ç­†</div>
            <div class="pagination flex items-center gap-2">
              <button class="btn btn-ghost text-xs" id="fxFirst" onclick="fxPage=1; renderFixtureList()">Â«</button>
              <button class="btn btn-ghost text-xs" id="fxPrev"  onclick="fxPage=Math.max(1,fxPage-1); renderFixtureList()">ä¸Šä¸€é </button>
              <span class="text-xs">ç¬¬ <span id="fxPageNow">1</span> / <span id="fxPageMax">1</span> é (æ¯é  8 ç­†)</span>
              <button class="btn btn-ghost text-xs" id="fxNext"  onclick="fxPage=Math.min(fxTotalPages,fxPage+1); renderFixtureList()">ä¸‹ä¸€é </button>
              <button class="btn btn-ghost text-xs" id="fxLast"  onclick="fxPage=fxTotalPages; renderFixtureList()">Â»</button>
            </div>
          </div>
          <div class="overflow-auto mt-2">
            <table class="min-w-full text-sm">
              <thead class="text-left text-gray-500">
                <tr><th class="py-2 pr-4">æ²»å…·åç¨±</th><th class="py-2 pr-4">æ©Ÿç¨®</th><th class="py-2 pr-4">å„²ä½</th><th class="py-2 pr-4">ç‹€æ…‹</th><th class="py-2 pr-4">æ›´æ›é€±æœŸ</th><th class="py-2 pr-4">æ“ä½œ</th></tr>
              </thead>
              <tbody id="fxTable"></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- æ©Ÿç¨®è³‡æ–™ç¶­è­· -->
      <div id="subtab-model" class="card p-5 space-y-3 hidden">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">æ©Ÿç¨®è³‡æ–™ç¶­è­·</h3>
          <div class="flex items-center gap-2">
            <button class="btn btn-ghost" onclick="downloadCSV('models_export.csv', toCSV(mockModels))">åŒ¯å‡º</button>
            <button class="btn btn-ghost" onclick="downloadCSV('models_template.csv', modelTemplate())">ä¸‹è¼‰ç¯„æœ¬</button>
          </div>
        </div>
        <div class="grid md:grid-cols-4 gap-3">
          <div class="field"><label class="label-xs">æ²»å…·åç¨±</label><input id="mdFxName" class="input" placeholder="å°æ‡‰æ²»å…·åç¨±" /></div>
          <div class="field"><label class="label-xs">å°æ‡‰ä½¿ç”¨æ©Ÿç¨®</label><input id="mdModelName" class="input" placeholder="æ©Ÿç¨®åç¨±" /></div>
          <div class="field"><label class="label-xs">ç«™é»</label><input id="mdPos" class="input" placeholder="ç«™é»/ä½ç½®" /></div>
          <div class="field"><label class="label-xs">æ•¸é‡</label><input id="mdQty" type="number" class="input" placeholder="æ•¸é‡" /></div>
        </div>
        <div class="flex items-center gap-2">
          <button class="btn btn-primary" onclick="addModel()">æ–°å¢</button>
          <label class="btn btn-ghost cursor-pointer"><input id="mdCsv" type="file" accept=".xlsx,.csv" class="hidden" onchange="handleModelCsv(this)" /> åŒ¯å…¥ Excel/CSV</label>
        </div>
        <div class="border-t pt-3">
          <div class="flex items-center justify-between">
            <div class="text-sm text-gray-600">å…± <span id="mdCount">0</span> ç­†</div>
            <div class="pagination flex items-center gap-2">
              <button class="btn btn-ghost text-xs" id="mdFirst" onclick="mdPage=1; renderModelList()">Â«</button>
              <button class="btn btn-ghost text-xs" id="mdPrev"  onclick="mdPage=Math.max(1,mdPage-1); renderModelList()">ä¸Šä¸€é </button>
              <span class="text-xs">ç¬¬ <span id="mdPageNow">1</span> / <span id="mdPageMax">1</span> é (æ¯é  8 ç­†)</span>
              <button class="btn btn-ghost text-xs" id="mdNext"  onclick="mdPage=Math.min(mdTotalPages,mdPage+1); renderModelList()">ä¸‹ä¸€é </button>
              <button class="btn btn-ghost text-xs" id="mdLast"  onclick="mdPage=mdTotalPages; renderModelList()">Â»</button>
            </div>
          </div>
          <div class="overflow-auto mt-2">
            <table class="min-w-full text-sm">
              <thead class="text-left text-gray-500">
                <tr><th class="py-2 pr-4">æ²»å…·åç¨±</th><th class="py-2 pr-4">æ©Ÿç¨®</th><th class="py-2 pr-4">ç«™é»</th><th class="py-2 pr-4">æ•¸é‡</th><th class="py-2 pr-4">æ“ä½œ</th></tr>
              </thead>
              <tbody id="mdTable"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-4 left-1/2 -translate-x-1/2 hidden">
    <div class="bg-gray-900 text-white px-4 py-2 rounded-xl shadow-lg">è¨Šæ¯</div>
  </div>

    <!-- å¼•å…¥ JavaScript -->
  <script src="/web/js/api-config.js"></script>
  <script src="/web/js/api-fixtures.js"></script>
  <script src="/web/js/api-receipts.js"></script>
  <script src="/web/js/api-logs.js"></script>
  <script src="/web/js/api-stats-auth.js"></script>
  <script src="/web/js/storage.js"></script>
  <script src="/web/js/utils.js"></script>
  <script src="/web/js/calculations.js"></script>
  <script src="/web/js/ui-render.js"></script>
  <script src="/web/js/auth.js"></script>
  <script src="/web/js/api-users.js"></script>
  <script src="/web/js/admin.js"></script>
  <script src="/web/js/app-main.js"></script>


</body>
</html>